) +
facet_grid(rows = vars(network),
# scales = "free_x",
space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
# scale_fill_viridis_d()+
# scale_color_viridis_d(guide = "none")+
labs(x = "NPZ",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
scales = "free_y",
space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
# scale_fill_viridis_d()+
# scale_color_viridis_d(guide = "none")+
labs(x = "NPZ",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
labs(x = "NPZ",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
labs(x = "NPZ",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(date_breaks = "month")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(date_breaks = "%m-%d")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(date_breaks = "1 month")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(date_breaks = "2 weeks")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(date_breaks = "month")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(breaks = "month")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
month(all_ves_by_date$Date_noyr[5])
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(breaks = "month", format = "%Y-%m-%d")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(date_breaks = "month", date_labels = "%m-%d")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_line(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(date_breaks = "month", date_labels = "%m-%d")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_line(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(date_breaks = "month", date_labels = "%m-%d")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_datetime(date_breaks = "month", date_labels = "%m-%d")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(date_breaks = "month", date_labels = "%m-%d")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
# scale_x_date(date_breaks = "month", date_labels = "%m-%d")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
# Total Vessels per day for plots
all_ves_by_date <- all_sites_hp |>
group_by(network, npz_id, Site_ID, Dep, Date_noyr) |>
summarise(n_days = n_distinct(Begin_Date_loc),
Total_ves_dep = sum(Total_Vessels, na.rm = TRUE),
Total_inside_ves_dep = sum(total_inside, na.rm = TRUE),
Total_inside_ves_small = sum(total_inside_small, na.rm = TRUE)
) |>
mutate(
network = fct(network),
network = fct_relevel(network, c("Temperate East","Northwest")),
Date_noyr = as_date(Date_noyr, format = "%Y-%m-%d")
)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
# scale_x_date(date_breaks = "month", date_labels = "%m-%d")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(date_breaks = "month", date_labels = "%m-%d")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(minor_breaks = "2 weeks")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
# Total Vessels per day for plots
all_ves_by_date <- all_sites_hp |>
group_by(network, npz_id, Site_ID, Dep, Date_noyr) |>
summarise(n_days = n_distinct(Begin_Date_loc),
Total_ves_dep = sum(Total_Vessels, na.rm = TRUE),
Total_inside_ves_dep = sum(total_inside, na.rm = TRUE),
Total_inside_ves_small = sum(total_inside_small, na.rm = TRUE)
) |>
mutate(
network = fct(network),
network = fct_relevel(network, c("Temperate East","Northwest")),
Date_noyr = as.Date(Date_noyr, format = "%m-%d")
)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(minor_breaks = "2 weeks")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
View(all_ves_by_date)
# Total Vessels per day for plots
all_ves_by_date <- all_sites_hp |>
group_by(network, npz_id, Site_ID, Dep, Date_noyr) |>
summarise(n_days = n_distinct(Begin_Date_loc),
Total_ves_dep = sum(Total_Vessels, na.rm = TRUE),
Total_inside_ves_dep = sum(total_inside, na.rm = TRUE),
Total_inside_ves_small = sum(total_inside_small, na.rm = TRUE)
) |>
mutate(
network = fct(network),
network = fct_relevel(network, c("Temperate East","Northwest")),
Date_noyr = as.Date(Date_noyr, format = "%Y-%m-%d")
)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
scale_x_date(minor_breaks = "2 weeks")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
ggplot(data = all_ves_by_date,
aes(x = Date_noyr,
y = Total_ves_dep,
fill = network))+
geom_col(aes(group = Dep),
alpha = 0.5,
position = position_identity(),
show.legend = FALSE)+
scale_fill_viridis_d(guide = "none")+
# scale_x_date(minor_breaks = "2 weeks")+
labs(x = "Date",
y = "N vessels per day") +
theme(
strip.text.y = element_text(face = "bold"),
axis.text.x = element_text(face = "bold")
) +
facet_grid(rows = vars(network),
# scales = "free_y",
# space = "free",
drop = TRUE)
